â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      GUIA DE VERIFICAÃ‡ÃƒO DE CERTIFICADOS MAPEADOS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“… Data: 04 Novembro 2025
ğŸ¯ Objetivo: Verificar certificados emitidos apÃ³s mapeamento de palestras

ğŸ“‹ O QUE Ã‰ ESTA FERRAMENTA:
---------------------------

Esta pÃ¡gina permite verificar se os certificados foram corretamente 
emitidos para usuÃ¡rios que assistiram palestras que foram RECENTEMENTE 
mapeadas entre Hotmart e o sistema interno.


ğŸ” O QUE A FERRAMENTA MOSTRA:
------------------------------

### 1. ESTATÃSTICAS GERAIS

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [ğŸ“Š]           [âœ…]            [ğŸ‘¥]            â”‚
â”‚   50            120             85              â”‚
â”‚ Palestras    Certificados    UsuÃ¡rios          â”‚
â”‚ Mapeadas     Emitidos      Certificados        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


### 2. PARA CADA PALESTRA MAPEADA:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“š TÃ­tulo da Palestra                           â”‚
â”‚ Hotmart: Nome na Hotmart                        â”‚
â”‚ Palestrante: JoÃ£o Silva | DuraÃ§Ã£o: 45 min      â”‚
â”‚ Mapeada em: 04/11/2025 10:30                   â”‚
â”‚                                                 â”‚
â”‚ âœ… 5 novos  â„¹ï¸ 10 anteriores  âš ï¸ 3 pendentes   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ CERTIFICADOS EMITIDOS â”‚ USUÃRIOS SEM CERTIFICADOâ”‚
â”‚                       â”‚                         â”‚
â”‚ âœ… Maria Silva        â”‚ â³ Pedro Santos         â”‚
â”‚    maria@email.com    â”‚    pedro@email.com      â”‚
â”‚    04/11/2025 15:00   â”‚    Visto: 03/11 18:00   â”‚
â”‚                       â”‚    Tempo: 42 min        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


### 3. BADGES EXPLICADOS:

âœ… X novos      = Certificados emitidos APÃ“S o mapeamento
â„¹ï¸ X anteriores = Certificados que jÃ¡ existiam ANTES
âš ï¸ X pendentes  = UsuÃ¡rios que assistiram mas nÃ£o tÃªm certificado


ğŸ¯ COMO USAR:
-------------

### PASSO 1: Escolher PerÃ­odo
Clique em um dos botÃµes no topo:
- [Ãšltimas 24 horas] â†’ Mapeamentos de hoje
- [Ãšltimos 7 dias]   â†’ Mapeamentos desta semana
- [Ãšltimos 30 dias]  â†’ Mapeamentos deste mÃªs
- [Todos]            â†’ Todos os mapeamentos


### PASSO 2: Analisar EstatÃ­sticas
Veja os nÃºmeros gerais:
- Quantas palestras foram mapeadas?
- Quantos certificados foram emitidos?
- Quantos usuÃ¡rios receberam certificados?


### PASSO 3: Verificar Cada Palestra
Para cada palestra mapeada, verifique:

âœ… CERTIFICADOS EMITIDOS (Coluna Esquerda):
- Lista de usuÃ¡rios que receberam certificado
- Data e hora da emissÃ£o
- Email do usuÃ¡rio
- CÃ³digo do certificado

âš ï¸ USUÃRIOS SEM CERTIFICADO (Coluna Direita):
- Lista de usuÃ¡rios que assistiram mas nÃ£o tÃªm certificado
- Ãšltima visualizaÃ§Ã£o
- Tempo total assistido


ğŸ“Š INTERPRETANDO OS RESULTADOS:
-------------------------------

### CENÃRIO 1: Tudo OK âœ…
```
âœ… 5 novos  â„¹ï¸ 10 anteriores  
Coluna direita: "Todos os usuÃ¡rios jÃ¡ receberam certificado!"
```
â†’ PERFEITO! O sistema emitiu certificados para todos.


### CENÃRIO 2: Certificados Pendentes âš ï¸
```
âœ… 3 novos  â„¹ï¸ 8 anteriores  âš ï¸ 4 pendentes
Coluna direita: Lista de 4 usuÃ¡rios sem certificado
```
â†’ AÃ‡ÃƒO NECESSÃRIA: 
  - Verificar se estes usuÃ¡rios completaram a palestra
  - Verificar tempo assistido (deve ser >= 80% da duraÃ§Ã£o)
  - Pode ser necessÃ¡rio emitir certificados manualmente


### CENÃRIO 3: Nenhum Certificado Novo âŒ
```
âœ… 0 novos  â„¹ï¸ 5 anteriores  âš ï¸ 2 pendentes
```
â†’ INVESTIGAR:
  - O mapeamento foi recente?
  - Houve novos usuÃ¡rios assistindo apÃ³s o mapeamento?
  - Sistema de emissÃ£o automÃ¡tica estÃ¡ funcionando?


ğŸ” CRITÃ‰RIOS PARA EMISSÃƒO DE CERTIFICADO:
-----------------------------------------

Geralmente, um certificado Ã© emitido quando:
1. UsuÃ¡rio assiste >= 80% da palestra
2. Palestra estÃ¡ mapeada no sistema
3. Sistema detecta conclusÃ£o via access_logs
4. Certificado Ã© gerado automaticamente


âš ï¸ USUÃRIOS PENDENTES - POSSÃVEIS CAUSAS:
-----------------------------------------

Um usuÃ¡rio pode estar na lista de "pendentes" porque:

1. NÃƒO COMPLETOU A PALESTRA
   - Assistiu menos de 80% da duraÃ§Ã£o
   - Parou no meio
   
2. ASSISTIU ANTES DO MAPEAMENTO
   - Viu a palestra quando ainda nÃ£o estava mapeada
   - Sistema nÃ£o tinha referÃªncia para emitir certificado
   
3. PROBLEMA TÃ‰CNICO
   - Falha no sistema de emissÃ£o automÃ¡tica
   - Dados de progresso nÃ£o sincronizados
   
4. USUÃRIO INATIVO
   - Conta desativada
   - NÃ£o Ã© mais assinante


ğŸ’¡ AÃ‡Ã•ES RECOMENDADAS:
----------------------

### Se hÃ¡ muitos certificados pendentes:

1. VERIFICAR TEMPO ASSISTIDO
   ```
   Se tempo assistido >= 80% da duraÃ§Ã£o:
   â†’ UsuÃ¡rio deveria ter certificado
   â†’ Investigar problema tÃ©cnico
   ```

2. VERIFICAR DATA DE VISUALIZAÃ‡ÃƒO
   ```
   Se Ãºltima view < data do mapeamento:
   â†’ UsuÃ¡rio assistiu antes do mapeamento
   â†’ Certificado nÃ£o foi emitido automaticamente
   â†’ Pode precisar emitir manualmente
   ```

3. VERIFICAR STATUS DO USUÃRIO
   ```
   Se usuÃ¡rio estÃ¡ inativo ou nÃ£o Ã© assinante:
   â†’ Normal nÃ£o ter certificado
   â†’ NÃ£o precisa aÃ§Ã£o
   ```


ğŸ“ˆ RELATÃ“RIO EXECUTIVO:
-----------------------

Use esta pÃ¡gina para criar relatÃ³rio:

RESUMO SEMANAL:
- Total de palestras mapeadas: X
- Total de certificados emitidos: Y
- Taxa de sucesso: Y/X = Z%
- UsuÃ¡rios impactados: N

ALERTAS:
- X palestras com pendÃªncias
- Y usuÃ¡rios sem certificado merecido
- Z palestras sem nenhum certificado novo


ğŸ”§ QUERIES SQL EXECUTADAS:
---------------------------

A ferramenta executa as seguintes queries:

1. Buscar palestras mapeadas no perÃ­odo:
```sql
SELECT hlm.*, l.*
FROM hotmart_lecture_mapping hlm
LEFT JOIN lectures l ON l.id = hlm.lecture_id
WHERE hlm.created_at >= [perÃ­odo]
```

2. Certificados emitidos APÃ“S o mapeamento:
```sql
SELECT c.*, u.*
FROM certificates c
LEFT JOIN users u ON u.id = c.user_id
WHERE c.lecture_id = ?
AND c.issued_at >= [data_mapeamento]
```

3. Certificados emitidos ANTES do mapeamento:
```sql
SELECT COUNT(*)
FROM certificates
WHERE lecture_id = ?
AND issued_at < [data_mapeamento]
```

4. UsuÃ¡rios que assistiram mas nÃ£o tÃªm certificado:
```sql
SELECT DISTINCT al.user_id, u.*, 
       SUM(al.accumulated_watch_time) as total_time
FROM access_logs al
LEFT JOIN users u ON u.id = al.user_id
WHERE al.lecture_id = ?
AND al.user_id NOT IN (
    SELECT user_id FROM certificates WHERE lecture_id = ?
)
GROUP BY al.user_id
HAVING total_time > 0
```


ğŸ¯ CASOS DE USO:
----------------

### USO 1: VerificaÃ§Ã£o DiÃ¡ria
Acesse diariamente com filtro "Ãšltimas 24 horas"
â†’ Monitore certificados do dia

### USO 2: RelatÃ³rio Semanal
Toda segunda, acesse com "Ãšltimos 7 dias"
â†’ Gere relatÃ³rio da semana passada

### USO 3: Auditoria Completa
Acesse com "Todos" apÃ³s concluir todos os mapeamentos
â†’ Verifique estado geral do sistema

### USO 4: InvestigaÃ§Ã£o de Problema
Se usuÃ¡rio reclama de nÃ£o ter certificado:
1. Busque a palestra especÃ­fica
2. Veja se estÃ¡ na lista de pendentes
3. Verifique tempo assistido
4. Tome aÃ§Ã£o apropriada


ğŸš€ INSTALAÃ‡ÃƒO:
--------------

1. Copie verificar_certificados_mapeados.php
2. Cole em /public_html/v/admin/
3. Acesse via URL:
   https://seu-dominio.com/v/admin/verificar_certificados_mapeados.php


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
              FERRAMENTA PRONTA PARA USO! ğŸ‰
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Esta ferramenta permite:
âœ… Verificar certificados emitidos
âœ… Identificar usuÃ¡rios pendentes
âœ… Monitorar sucesso dos mapeamentos
âœ… Gerar relatÃ³rios executivos
âœ… Tomar aÃ§Ãµes corretivas

BOA VERIFICAÃ‡ÃƒO! ğŸ“Š
